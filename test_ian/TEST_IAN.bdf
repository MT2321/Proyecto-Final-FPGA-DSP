/*
WARNING: Do NOT edit the input and output ports in this file in a text
editor if you plan to continue editing the block that represents it in
the Block Editor! File corruption is VERY likely to occur.
*/
/*
Copyright (C) 2022  Intel Corporation. All rights reserved.
Your use of Intel Corporation's design tools, logic functions 
and other software and tools, and any partner logic 
functions, and any output files from any of the foregoing 
(including device programming or simulation files), and any 
associated documentation or information are expressly subject 
to the terms and conditions of the Intel Program License 
Subscription Agreement, the Intel Quartus Prime License Agreement,
the Intel FPGA IP License Agreement, or other applicable license
agreement, including, without limitation, that your use is for
the sole purpose of programming logic devices manufactured by
Intel and sold by Intel or its authorized distributors.  Please
refer to the applicable agreement for further details, at
https://fpgasoftware.intel.com/eula.
*/
(header "graphic" (version "1.4"))
(pin
	(input)
	(rect 376 240 544 256)
	(text "INPUT" (rect 125 0 153 10)(font "Arial" (font_size 6)))
	(text "ONE" (rect 5 0 26 17)(font "Intel Clear" ))
	(pt 168 8)
	(drawing
		(line (pt 84 12)(pt 109 12))
		(line (pt 84 4)(pt 109 4))
		(line (pt 113 8)(pt 168 8))
		(line (pt 84 12)(pt 84 4))
		(line (pt 109 4)(pt 113 8))
		(line (pt 109 12)(pt 113 8))
	)
	(text "VCC" (rect 128 7 148 17)(font "Arial" (font_size 6)))
)
(pin
	(input)
	(rect 376 176 544 192)
	(text "INPUT" (rect 125 0 153 10)(font "Arial" (font_size 6)))
	(text "value[11..0]" (rect 5 0 61 17)(font "Intel Clear" ))
	(pt 168 8)
	(drawing
		(line (pt 84 12)(pt 109 12))
		(line (pt 84 4)(pt 109 4))
		(line (pt 113 8)(pt 168 8))
		(line (pt 84 12)(pt 84 4))
		(line (pt 109 4)(pt 113 8))
		(line (pt 109 12)(pt 113 8))
	)
	(text "VCC" (rect 128 7 148 17)(font "Arial" (font_size 6)))
)
(pin
	(input)
	(rect 352 640 520 656)
	(text "INPUT" (rect 125 0 153 10)(font "Arial" (font_size 6)))
	(text "CLK" (rect 5 0 27 12)(font "Arial" ))
	(pt 168 8)
	(drawing
		(line (pt 84 12)(pt 109 12))
		(line (pt 84 4)(pt 109 4))
		(line (pt 113 8)(pt 168 8))
		(line (pt 84 12)(pt 84 4))
		(line (pt 109 4)(pt 113 8))
		(line (pt 109 12)(pt 113 8))
	)
	(text "VCC" (rect 128 7 148 17)(font "Arial" (font_size 6)))
)
(pin
	(output)
	(rect 1336 440 1512 456)
	(text "OUTPUT" (rect 1 0 39 10)(font "Arial" (font_size 6)))
	(text "V_SYNC" (rect 90 0 134 12)(font "Arial" ))
	(pt 0 8)
	(drawing
		(line (pt 0 8)(pt 52 8))
		(line (pt 52 4)(pt 78 4))
		(line (pt 52 12)(pt 78 12))
		(line (pt 52 12)(pt 52 4))
		(line (pt 78 4)(pt 82 8))
		(line (pt 82 8)(pt 78 12))
		(line (pt 78 12)(pt 82 8))
	)
)
(pin
	(output)
	(rect 1336 408 1512 424)
	(text "OUTPUT" (rect 1 0 39 10)(font "Arial" (font_size 6)))
	(text "H_SYNC" (rect 90 0 136 12)(font "Arial" ))
	(pt 0 8)
	(drawing
		(line (pt 0 8)(pt 52 8))
		(line (pt 52 4)(pt 78 4))
		(line (pt 52 12)(pt 78 12))
		(line (pt 52 12)(pt 52 4))
		(line (pt 78 4)(pt 82 8))
		(line (pt 82 8)(pt 78 12))
		(line (pt 78 12)(pt 82 8))
	)
)
(pin
	(output)
	(rect 1328 176 1504 192)
	(text "OUTPUT" (rect 1 0 39 10)(font "Arial" (font_size 6)))
	(text "PIXEL_VALUE" (rect 90 0 157 17)(font "Intel Clear" ))
	(pt 0 8)
	(drawing
		(line (pt 0 8)(pt 52 8))
		(line (pt 52 4)(pt 78 4))
		(line (pt 52 12)(pt 78 12))
		(line (pt 52 12)(pt 52 4))
		(line (pt 78 4)(pt 82 8))
		(line (pt 82 8)(pt 78 12))
		(line (pt 78 12)(pt 82 8))
	)
)
(symbol
	(rect 712 152 984 280)
	(text "graph_memory" (rect 5 0 95 19)(font "Intel Clear" (font_size 8)))
	(text "Graph_Memory" (rect 8 107 82 124)(font "Intel Clear" ))
	(port
		(pt 0 32)
		(input)
		(text "w_value[11..0]" (rect 0 0 87 19)(font "Intel Clear" (font_size 8)))
		(text "w_value[11..0]" (rect 21 27 108 46)(font "Intel Clear" (font_size 8)))
		(line (pt 0 32)(pt 16 32)(line_width 3))
	)
	(port
		(pt 0 48)
		(input)
		(text "w_clk" (rect 0 0 33 19)(font "Intel Clear" (font_size 8)))
		(text "w_clk" (rect 21 43 54 62)(font "Intel Clear" (font_size 8)))
		(line (pt 0 48)(pt 16 48))
	)
	(port
		(pt 0 64)
		(input)
		(text "r_relative_addr[9..0]" (rect 0 0 122 19)(font "Intel Clear" (font_size 8)))
		(text "r_relative_addr[9..0]" (rect 21 59 143 78)(font "Intel Clear" (font_size 8)))
		(line (pt 0 64)(pt 16 64)(line_width 3))
	)
	(port
		(pt 0 80)
		(input)
		(text "r_clk" (rect 0 0 28 19)(font "Intel Clear" (font_size 8)))
		(text "r_clk" (rect 21 75 49 94)(font "Intel Clear" (font_size 8)))
		(line (pt 0 80)(pt 16 80))
	)
	(port
		(pt 0 96)
		(input)
		(text "MEM_EN" (rect 0 0 51 19)(font "Intel Clear" (font_size 8)))
		(text "MEM_EN" (rect 21 91 72 110)(font "Intel Clear" (font_size 8)))
		(line (pt 0 96)(pt 16 96))
	)
	(port
		(pt 272 32)
		(output)
		(text "mem_out[11..0]" (rect 0 0 95 19)(font "Intel Clear" (font_size 8)))
		(text "mem_out[11..0]" (rect 156 27 251 46)(font "Intel Clear" (font_size 8)))
		(line (pt 272 32)(pt 256 32)(line_width 3))
	)
	(drawing
		(rectangle (rect 16 16 256 112))
	)
)
(symbol
	(rect 832 384 976 528)
	(text "vga_sync" (rect 5 0 54 12)(font "Arial" ))
	(text "vga_sync" (rect 8 128 52 145)(font "Intel Clear" ))
	(port
		(pt 0 32)
		(input)
		(text "clock" (rect 0 0 25 12)(font "Arial" ))
		(text "clock" (rect 21 27 46 39)(font "Arial" ))
		(line (pt 0 32)(pt 16 32))
	)
	(port
		(pt 144 32)
		(output)
		(text "hsync" (rect 0 0 30 12)(font "Arial" ))
		(text "hsync" (rect 98 27 128 39)(font "Arial" ))
		(line (pt 144 32)(pt 128 32))
	)
	(port
		(pt 144 48)
		(output)
		(text "HE" (rect 0 0 15 12)(font "Arial" ))
		(text "HE" (rect 111 43 126 55)(font "Arial" ))
		(line (pt 144 48)(pt 128 48))
	)
	(port
		(pt 144 64)
		(output)
		(text "vsync" (rect 0 0 31 12)(font "Arial" ))
		(text "vsync" (rect 97 59 128 71)(font "Arial" ))
		(line (pt 144 64)(pt 128 64))
	)
	(port
		(pt 144 80)
		(output)
		(text "VE" (rect 0 0 14 12)(font "Arial" ))
		(text "VE" (rect 112 75 126 87)(font "Arial" ))
		(line (pt 144 80)(pt 128 80))
	)
	(port
		(pt 144 96)
		(output)
		(text "x[9..0]" (rect 0 0 31 12)(font "Arial" ))
		(text "x[9..0]" (rect 97 91 128 103)(font "Arial" ))
		(line (pt 144 96)(pt 128 96)(line_width 3))
	)
	(port
		(pt 144 112)
		(output)
		(text "y[9..0]" (rect 0 0 33 12)(font "Arial" ))
		(text "y[9..0]" (rect 96 107 129 119)(font "Arial" ))
		(line (pt 144 112)(pt 128 112)(line_width 3))
	)
	(parameter
		"pix_clk"
		"40000000"
		""
		(type "PARAMETER_SIGNED_DEC")	)
	(parameter
		"width"
		"800"
		""
		(type "PARAMETER_SIGNED_DEC")	)
	(parameter
		"h_fp"
		"40"
		""
		(type "PARAMETER_SIGNED_DEC")	)
	(parameter
		"h_sp"
		"128"
		""
		(type "PARAMETER_SIGNED_DEC")	)
	(parameter
		"h_bp"
		"88"
		""
		(type "PARAMETER_SIGNED_DEC")	)
	(parameter
		"height"
		"600"
		""
		(type "PARAMETER_SIGNED_DEC")	)
	(parameter
		"v_fp"
		"1"
		""
		(type "PARAMETER_SIGNED_DEC")	)
	(parameter
		"v_sp"
		"4"
		""
		(type "PARAMETER_SIGNED_DEC")	)
	(parameter
		"v_bp"
		"23"
		""
		(type "PARAMETER_SIGNED_DEC")	)
	(drawing
		(rectangle (rect 16 16 128 128))
	)
	(annotation_block (parameter)(rect 832 280 976 384))
)
(symbol
	(rect 1096 152 1280 232)
	(text "pixel_discriminator" (rect 5 0 95 12)(font "Arial" ))
	(text "PIXEL_DISCRIMINATOR" (rect 8 64 121 81)(font "Intel Clear" ))
	(port
		(pt 0 32)
		(input)
		(text "value[11..0]" (rect 0 0 59 12)(font "Arial" ))
		(text "value[11..0]" (rect 21 27 80 39)(font "Arial" ))
		(line (pt 0 32)(pt 16 32)(line_width 3))
	)
	(port
		(pt 0 48)
		(input)
		(text "pixel_y[9..0]" (rect 0 0 61 12)(font "Arial" ))
		(text "pixel_y[9..0]" (rect 21 43 82 55)(font "Arial" ))
		(line (pt 0 48)(pt 16 48)(line_width 3))
	)
	(port
		(pt 184 32)
		(output)
		(text "out_pixel" (rect 0 0 43 12)(font "Arial" ))
		(text "out_pixel" (rect 127 27 170 39)(font "Arial" ))
		(line (pt 184 32)(pt 168 32))
	)
	(drawing
		(rectangle (rect 16 16 168 64))
	)
)
(symbol
	(rect 536 584 776 752)
	(text "vga_clk" (rect 99 0 149 16)(font "Arial" (font_size 10)))
	(text "inst" (rect 8 152 25 164)(font "Arial" ))
	(port
		(pt 0 64)
		(input)
		(text "inclk0" (rect 0 0 31 14)(font "Arial" (font_size 8)))
		(text "inclk0" (rect 4 50 35 64)(font "Arial" (font_size 8)))
		(line (pt 0 64)(pt 40 64))
	)
	(port
		(pt 240 64)
		(output)
		(text "c0" (rect 0 0 14 14)(font "Arial" (font_size 8)))
		(text "c0" (rect 224 50 238 64)(font "Arial" (font_size 8)))
	)
	(port
		(pt 240 80)
		(output)
		(text "c1" (rect 0 0 14 14)(font "Arial" (font_size 8)))
		(text "c1" (rect 224 66 238 80)(font "Arial" (font_size 8)))
	)
	(drawing
		(text "Cyclone IV E" (rect 164 152 230 164)(font "Arial" ))
		(text "inclk0 frequency: 50.000 MHz" (rect 50 59 197 71)(font "Arial" ))
		(text "Operation Mode: Normal" (rect 50 72 169 84)(font "Arial" ))
		(text "Clk " (rect 51 93 71 105)(font "Arial" ))
		(text "Ratio" (rect 75 93 100 105)(font "Arial" ))
		(text "Ph (dg)" (rect 104 93 139 105)(font "Arial" ))
		(text "DC (%)" (rect 138 93 174 105)(font "Arial" ))
		(text "c0" (rect 54 107 65 119)(font "Arial" ))
		(text "99/100" (rect 72 107 105 119)(font "Arial" ))
		(text "0.00" (rect 110 107 131 119)(font "Arial" ))
		(text "50.00" (rect 142 107 169 119)(font "Arial" ))
		(text "c1" (rect 54 121 65 133)(font "Arial" ))
		(text "1/5000" (rect 72 121 105 133)(font "Arial" ))
		(text "0.00" (rect 110 121 131 133)(font "Arial" ))
		(text "50.00" (rect 142 121 169 133)(font "Arial" ))
		(line (pt 0 0)(pt 241 0))
		(line (pt 241 0)(pt 241 169))
		(line (pt 0 169)(pt 241 169))
		(line (pt 0 0)(pt 0 169))
		(line (pt 48 91)(pt 170 91))
		(line (pt 48 104)(pt 170 104))
		(line (pt 48 118)(pt 170 118))
		(line (pt 48 132)(pt 170 132))
		(line (pt 48 91)(pt 48 132))
		(line (pt 69 91)(pt 69 132)(line_width 3))
		(line (pt 101 91)(pt 101 132)(line_width 3))
		(line (pt 135 91)(pt 135 132)(line_width 3))
		(line (pt 169 91)(pt 169 132))
		(line (pt 40 48)(pt 207 48))
		(line (pt 207 48)(pt 207 151))
		(line (pt 40 151)(pt 207 151))
		(line (pt 40 48)(pt 40 151))
		(line (pt 239 64)(pt 207 64))
		(line (pt 239 80)(pt 207 80))
	)
)
(connector
	(pt 544 248)
	(pt 712 248)
)
(connector
	(text "VGA_CLK" (rect 762 400 809 417)(font "Intel Clear" (color 0 0 0)(bold)))
	(pt 752 416)
	(pt 832 416)
	(color 0 0 0)
)
(connector
	(pt 976 416)
	(pt 1336 416)
)
(connector
	(pt 544 184)
	(pt 712 184)
	(bus)
	(color 255 85 0)
)
(connector
	(pt 1280 184)
	(pt 1328 184)
	(color 255 85 0)
)
(connector
	(text "VGA_CLK" (rect 618 216 665 233)(font "Intel Clear" (color 0 0 0)(bold)))
	(pt 600 232)
	(pt 712 232)
	(color 0 0 0)
)
(connector
	(text "PIXEL_X_POS[9..0]" (rect 618 200 712 217)(font "Intel Clear" (color 0 85 0)(bold)))
	(pt 600 216)
	(pt 712 216)
	(bus)
	(color 0 85 0)
)
(connector
	(text "PIXEL_Y_POS[9..0]" (rect 1002 184 1096 201)(font "Intel Clear" (color 0 85 0)(bold)))
	(pt 992 200)
	(pt 1096 200)
	(bus)
	(color 0 85 0)
)
(connector
	(pt 976 448)
	(pt 1336 448)
)
(connector
	(text "PIXEL_X_POS[9..0]" (rect 1242 464 1336 481)(font "Intel Clear" (color 0 85 0)(bold)))
	(pt 976 480)
	(pt 1336 480)
	(bus)
	(color 0 85 0)
)
(connector
	(text "PIXEL_Y_POS[9..0]" (rect 1242 480 1336 497)(font "Intel Clear" (color 0 85 0)(bold)))
	(pt 976 496)
	(pt 1336 496)
	(bus)
	(color 0 85 0)
)
(connector
	(text "VGA_CLK" (rect 786 632 833 649)(font "Intel Clear" (color 0 0 0)(bold)))
	(pt 776 648)
	(pt 856 648)
	(color 0 0 0)
)
(connector
	(pt 520 648)
	(pt 536 648)
)
(connector
	(text "W_CLK" (rect 786 648 822 665)(font "Intel Clear" ))
	(pt 776 664)
	(pt 856 664)
)
(connector
	(text "W_CLK" (rect 554 184 590 201)(font "Intel Clear" ))
	(pt 544 200)
	(pt 712 200)
)
(connector
	(pt 984 184)
	(pt 1096 184)
	(bus)
	(color 255 85 0)
)
(text "Por como esta diagramado ahora, deberia funcionar, sin embargo" (rect 344 336 745 355)(font "Intel Clear" (color 0 0 0)(font_size 8)(bold)))
(text "como hay un cierto delay de 3 ciclos de r_clk en la memoria desde que se empieza a leer" (rect 344 352 883 371)(font "Intel Clear" (color 0 0 0)(font_size 8)(bold)))
(text "hasta que se termina, la imagen se vera defasada hacia la derecha" (rect 344 368 744 387)(font "Intel Clear" (color 0 0 0)(font_size 8)(bold)))
(text "Como solucion facil, se puede hacer un bloque de resta que reste 3 posiciones" (rect 344 384 823 403)(font "Intel Clear" (color 0 0 0)(font_size 8)(bold)))
(text "en el PIXEL_X_POS que entra al graph memory" (rect 344 400 630 419)(font "Intel Clear" (color 0 0 0)(font_size 8)(bold)))
