/*
WARNING: Do NOT edit the input and output ports in this file in a text
editor if you plan to continue editing the block that represents it in
the Block Editor! File corruption is VERY likely to occur.
*/
/*
Copyright (C) 2020  Intel Corporation. All rights reserved.
Your use of Intel Corporation's design tools, logic functions 
and other software and tools, and any partner logic 
functions, and any output files from any of the foregoing 
(including device programming or simulation files), and any 
associated documentation or information are expressly subject 
to the terms and conditions of the Intel Program License 
Subscription Agreement, the Intel Quartus Prime License Agreement,
the Intel FPGA IP License Agreement, or other applicable license
agreement, including, without limitation, that your use is for
the sole purpose of programming logic devices manufactured by
Intel and sold by Intel or its authorized distributors.  Please
refer to the applicable agreement for further details, at
https://fpgasoftware.intel.com/eula.
*/
(header "graphic" (version "1.4"))
(pin
	(input)
	(rect 136 208 304 224)
	(text "INPUT" (rect 125 0 161 13)(font "Arial" (font_size 6)))
	(text "ONE" (rect 5 0 33 19)(font "Intel Clear" ))
	(pt 168 8)
	(drawing
		(line (pt 84 12)(pt 109 12))
		(line (pt 84 4)(pt 109 4))
		(line (pt 113 8)(pt 168 8))
		(line (pt 84 12)(pt 84 4))
		(line (pt 109 4)(pt 113 8))
		(line (pt 109 12)(pt 113 8))
	)
	(text "VCC" (rect 128 7 152 20)(font "Arial" (font_size 6)))
)
(pin
	(input)
	(rect 136 144 304 160)
	(text "INPUT" (rect 125 0 161 13)(font "Arial" (font_size 6)))
	(text "value[11..0]" (rect 5 0 79 19)(font "Intel Clear" ))
	(pt 168 8)
	(drawing
		(line (pt 84 12)(pt 109 12))
		(line (pt 84 4)(pt 109 4))
		(line (pt 113 8)(pt 168 8))
		(line (pt 84 12)(pt 84 4))
		(line (pt 109 4)(pt 113 8))
		(line (pt 109 12)(pt 113 8))
	)
	(text "VCC" (rect 128 7 152 20)(font "Arial" (font_size 6)))
)
(pin
	(input)
	(rect 136 192 304 208)
	(text "INPUT" (rect 125 0 161 13)(font "Arial" (font_size 6)))
	(text "VGA_CLK" (rect 5 0 68 15)(font "Arial" ))
	(pt 168 8)
	(drawing
		(line (pt 84 12)(pt 109 12))
		(line (pt 84 4)(pt 109 4))
		(line (pt 113 8)(pt 168 8))
		(line (pt 84 12)(pt 84 4))
		(line (pt 109 4)(pt 113 8))
		(line (pt 109 12)(pt 113 8))
	)
	(text "VCC" (rect 128 7 152 20)(font "Arial" (font_size 6)))
)
(pin
	(input)
	(rect 128 64 304 80)
	(text "INPUT" (rect 133 0 169 13)(font "Arial" (font_size 6)))
	(text "pin_name1" (rect 9 0 83 15)(font "Arial" ))
	(pt 176 8)
	(drawing
		(line (pt 92 12)(pt 117 12))
		(line (pt 92 4)(pt 117 4))
		(line (pt 121 8)(pt 176 8))
		(line (pt 92 12)(pt 92 4))
		(line (pt 117 4)(pt 121 8))
		(line (pt 117 12)(pt 121 8))
	)
	(text "VCC" (rect 136 7 160 20)(font "Arial" (font_size 6)))
)
(pin
	(output)
	(rect 1144 144 1320 160)
	(text "OUTPUT" (rect 1 0 51 13)(font "Arial" (font_size 6)))
	(text "PIXEL_VALUE" (rect 90 0 177 19)(font "Intel Clear" ))
	(pt 0 8)
	(drawing
		(line (pt 0 8)(pt 52 8))
		(line (pt 52 4)(pt 78 4))
		(line (pt 52 12)(pt 78 12))
		(line (pt 52 12)(pt 52 4))
		(line (pt 78 4)(pt 82 8))
		(line (pt 82 8)(pt 78 12))
		(line (pt 78 12)(pt 82 8))
	)
)
(pin
	(output)
	(rect 1152 456 1328 472)
	(text "OUTPUT" (rect 1 0 51 13)(font "Arial" (font_size 6)))
	(text "V_SYNC" (rect 90 0 145 15)(font "Arial" ))
	(pt 0 8)
	(drawing
		(line (pt 0 8)(pt 52 8))
		(line (pt 52 4)(pt 78 4))
		(line (pt 52 12)(pt 78 12))
		(line (pt 52 12)(pt 52 4))
		(line (pt 78 4)(pt 82 8))
		(line (pt 82 8)(pt 78 12))
		(line (pt 78 12)(pt 82 8))
	)
)
(pin
	(output)
	(rect 1152 424 1328 440)
	(text "OUTPUT" (rect 1 0 51 13)(font "Arial" (font_size 6)))
	(text "H_SYNC" (rect 90 0 147 15)(font "Arial" ))
	(pt 0 8)
	(drawing
		(line (pt 0 8)(pt 52 8))
		(line (pt 52 4)(pt 78 4))
		(line (pt 52 12)(pt 78 12))
		(line (pt 52 12)(pt 52 4))
		(line (pt 78 4)(pt 82 8))
		(line (pt 82 8)(pt 78 12))
		(line (pt 78 12)(pt 82 8))
	)
)
(symbol
	(rect 472 120 784 248)
	(text "GraphMemory" (rect 5 0 106 20)(font "Intel Clear" (font_size 8)))
	(text "GRAPH_MEMORY" (rect 8 105 118 124)(font "Intel Clear" ))
	(port
		(pt 0 32)
		(input)
		(text "w_value[11..0]" (rect 0 0 103 20)(font "Intel Clear" (font_size 8)))
		(text "w_value[11..0]" (rect 21 27 124 47)(font "Intel Clear" (font_size 8)))
		(line (pt 0 32)(pt 16 32)(line_width 3))
	)
	(port
		(pt 0 48)
		(input)
		(text "w_clk" (rect 0 0 40 20)(font "Intel Clear" (font_size 8)))
		(text "w_clk" (rect 21 43 61 63)(font "Intel Clear" (font_size 8)))
		(line (pt 0 48)(pt 16 48))
	)
	(port
		(pt 0 64)
		(input)
		(text "r_relative_addr[9..0]" (rect 0 0 143 20)(font "Intel Clear" (font_size 8)))
		(text "r_relative_addr[9..0]" (rect 21 59 164 79)(font "Intel Clear" (font_size 8)))
		(line (pt 0 64)(pt 16 64)(line_width 3))
	)
	(port
		(pt 0 80)
		(input)
		(text "r_clk" (rect 0 0 34 20)(font "Intel Clear" (font_size 8)))
		(text "r_clk" (rect 21 75 55 95)(font "Intel Clear" (font_size 8)))
		(line (pt 0 80)(pt 16 80))
	)
	(port
		(pt 0 96)
		(input)
		(text "MEM_EN" (rect 0 0 61 20)(font "Intel Clear" (font_size 8)))
		(text "MEM_EN" (rect 21 91 82 111)(font "Intel Clear" (font_size 8)))
		(line (pt 0 96)(pt 16 96))
	)
	(port
		(pt 312 32)
		(output)
		(text "mem_out[11..0]" (rect 0 0 112 20)(font "Intel Clear" (font_size 8)))
		(text "mem_out[11..0]" (rect 179 27 291 47)(font "Intel Clear" (font_size 8)))
		(line (pt 312 32)(pt 296 32)(line_width 3))
	)
	(drawing
		(rectangle (rect 16 16 296 112))
	)
)
(symbol
	(rect 560 400 704 544)
	(text "vga_sync" (rect 5 0 65 15)(font "Arial" ))
	(text "VGA_SYNC" (rect 8 128 78 147)(font "Intel Clear" ))
	(port
		(pt 0 32)
		(input)
		(text "clock" (rect 0 0 33 15)(font "Arial" ))
		(text "clock" (rect 21 27 54 42)(font "Arial" ))
		(line (pt 0 32)(pt 16 32))
	)
	(port
		(pt 144 32)
		(output)
		(text "hsync" (rect 0 0 37 15)(font "Arial" ))
		(text "hsync" (rect 92 27 129 42)(font "Arial" ))
		(line (pt 144 32)(pt 128 32))
	)
	(port
		(pt 144 48)
		(output)
		(text "HE" (rect 0 0 20 15)(font "Arial" ))
		(text "HE" (rect 107 43 127 58)(font "Arial" ))
		(line (pt 144 48)(pt 128 48))
	)
	(port
		(pt 144 64)
		(output)
		(text "vsync" (rect 0 0 35 15)(font "Arial" ))
		(text "vsync" (rect 94 59 129 74)(font "Arial" ))
		(line (pt 144 64)(pt 128 64))
	)
	(port
		(pt 144 80)
		(output)
		(text "VE" (rect 0 0 17 15)(font "Arial" ))
		(text "VE" (rect 109 75 126 90)(font "Arial" ))
		(line (pt 144 80)(pt 128 80))
	)
	(port
		(pt 144 96)
		(output)
		(text "x[9..0]" (rect 0 0 36 15)(font "Arial" ))
		(text "x[9..0]" (rect 93 91 129 106)(font "Arial" ))
		(line (pt 144 96)(pt 128 96)(line_width 3))
	)
	(port
		(pt 144 112)
		(output)
		(text "y[9..0]" (rect 0 0 36 15)(font "Arial" ))
		(text "y[9..0]" (rect 93 107 129 122)(font "Arial" ))
		(line (pt 144 112)(pt 128 112)(line_width 3))
	)
	(parameter
		"pix_clk"
		"40000000"
		""
		(type "PARAMETER_SIGNED_DEC")	)
	(parameter
		"width"
		"800"
		""
		(type "PARAMETER_SIGNED_DEC")	)
	(parameter
		"h_fp"
		"40"
		""
		(type "PARAMETER_SIGNED_DEC")	)
	(parameter
		"h_sp"
		"128"
		""
		(type "PARAMETER_SIGNED_DEC")	)
	(parameter
		"h_bp"
		"88"
		""
		(type "PARAMETER_SIGNED_DEC")	)
	(parameter
		"height"
		"600"
		""
		(type "PARAMETER_SIGNED_DEC")	)
	(parameter
		"v_fp"
		"1"
		""
		(type "PARAMETER_SIGNED_DEC")	)
	(parameter
		"v_sp"
		"4"
		""
		(type "PARAMETER_SIGNED_DEC")	)
	(parameter
		"v_bp"
		"23"
		""
		(type "PARAMETER_SIGNED_DEC")	)
	(drawing
		(rectangle (rect 16 16 128 128))
	)
	(annotation_block (parameter)(rect 264 464 568 768))
)
(symbol
	(rect 904 120 1088 200)
	(text "pixel_discriminator" (rect 5 0 127 15)(font "Arial" ))
	(text "PIX_DISCR" (rect 8 64 75 83)(font "Intel Clear" ))
	(port
		(pt 0 32)
		(input)
		(text "value[11..0]" (rect 0 0 73 15)(font "Arial" ))
		(text "value[11..0]" (rect 21 27 94 42)(font "Arial" ))
		(line (pt 0 32)(pt 16 32)(line_width 3))
	)
	(port
		(pt 0 48)
		(input)
		(text "pixel_y[9..0]" (rect 0 0 74 15)(font "Arial" ))
		(text "pixel_y[9..0]" (rect 21 43 95 58)(font "Arial" ))
		(line (pt 0 48)(pt 16 48)(line_width 3))
	)
	(port
		(pt 184 32)
		(output)
		(text "out_pixel" (rect 0 0 57 15)(font "Arial" ))
		(text "out_pixel" (rect 115 27 172 42)(font "Arial" ))
		(line (pt 184 32)(pt 168 32))
	)
	(drawing
		(rectangle (rect 16 16 168 64))
	)
)
(connector
	(text "PIXEL_X_POS[9..0]" (rect 754 472 879 491)(font "Intel Clear" (color 0 85 0)(bold)))
	(pt 864 496)
	(pt 704 496)
	(bus)
	(color 0 85 0)
)
(connector
	(text "PIXEL_Y_POS[9..0]" (rect 754 512 879 531)(font "Intel Clear" (color 0 85 0)(bold)))
	(pt 864 512)
	(pt 704 512)
	(bus)
	(color 0 85 0)
)
(connector
	(pt 704 432)
	(pt 1152 432)
)
(connector
	(pt 704 464)
	(pt 1152 464)
)
(connector
	(text "VGA_CLK" (rect 490 416 552 435)(font "Intel Clear" (color 0 0 0)(bold)))
	(pt 480 432)
	(pt 560 432)
	(color 0 0 0)
)
(connector
	(text "PIXEL_X_POS[9..0]" (rect 378 168 503 187)(font "Intel Clear" (color 0 85 0)(bold)))
	(pt 360 184)
	(pt 472 184)
	(bus)
	(color 0 85 0)
)
(connector
	(text "PIXEL_Y_POS[9..0]" (rect 810 152 935 171)(font "Intel Clear" (color 0 85 0)(bold)))
	(pt 800 168)
	(pt 904 168)
	(bus)
	(color 0 85 0)
)
(connector
	(pt 784 152)
	(pt 904 152)
	(bus)
)
(connector
	(pt 1088 152)
	(pt 1144 152)
)
(connector
	(pt 304 152)
	(pt 472 152)
	(bus)
)
(connector
	(text "W_CLK" (rect 306 152 352 171)(font "Intel Clear" ))
	(pt 472 168)
	(pt 296 168)
)
(connector
	(text "W_CLK" (rect 362 48 408 67)(font "Intel Clear" ))
	(pt 304 72)
	(pt 384 72)
)
(connector
	(text "VGA_CLK" (rect 322 184 384 203)(font "Intel Clear" (color 0 0 0)(bold)))
	(pt 304 200)
	(pt 472 200)
)
(connector
	(pt 304 216)
	(pt 472 216)
)
(text "Por como esta diagramado ahora, deberia funcionar, sin embargo" (rect 80 280 546 300)(font "Intel Clear" (color 0 0 0)(font_size 8)(bold)))
(text "como hay un cierto delay de 3 ciclos de r_clk en la memoria desde que se empieza a leer" (rect 80 296 705 316)(font "Intel Clear" (color 0 0 0)(font_size 8)(bold)))
(text "hasta que se termina, la imagen se vera defasada hacia la derecha" (rect 80 312 544 332)(font "Intel Clear" (color 0 0 0)(font_size 8)(bold)))
(text "Como solucion facil, se puede hacer un bloque de resta que reste 3 posiciones" (rect 80 328 634 348)(font "Intel Clear" (color 0 0 0)(font_size 8)(bold)))
(text "en el PIXEL_X_POS que entra al graph memory" (rect 80 344 415 364)(font "Intel Clear" (color 0 0 0)(font_size 8)(bold)))
